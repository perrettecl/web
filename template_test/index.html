<html>
<head>

	<title>RAS</title>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<meta charset="UTF-8">
	<link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>
	<link type="text/css" rel="stylesheet" href="materialize/css/style.css">

</head>
<body>
	<nav>
		<div class="nav-wrapper">
			<a href="#!" class="brand-logo">Remote Access Security</a>
			<ul class="right hide-on-med-and-down">
				<li><a class="waves-effect waves-light btn btn-banner">Se déconnecter</a></li>
			</ul>
		</div>
	</nav>

	<div class="row">
		<section>
			<!--
			<ul class="collection with-header col s12 m12 l2 z-depth-1 menu-gauche">
				<li class="collection-header"><h4>Zone 1 <a class="btn-floating waves-effect waves-light green right"><i class="mdi-content-add" title="Créer une salle"></i></a></h4></li>
				<li class="collection-item"><a href="#!">Retour</a></li>
				<li class="collection-item"><a href="#!">Zone 1.1</a></li>
				<li class="collection-item"><a href="#!">Zone 1.2</a></li>
				<li class="collection-item"><a href="#!">Zone 1.3</a></li>
				<li class="collection-item"><a href="#!">Zone 1.4</a></li>
				<li class="collection-item"><a href="#!">Zone 1.5</a></li>
			</ul>
			-->
			<div class="collection with-header col s12 m12 l2 z-depth-1 menu-gauche" id="liste-zones">
				<h4>Zone 1 <a class="btn-floating waves-effect waves-light green right" href="javascript:creerZone(1)"><i class="mdi-content-add" title="Créer une zone"></i></a></h4>
				<a href="#!" class="collection-item">Retour</a>
				<a href="#!" class="collection-item">Zone 1.1</a>
				<a href="#!" class="collection-item">Zone 1.2</a>
				<a href="#!" class="collection-item">Zone 1.3</a>
				<a href="#!" class="collection-item">Zone 1.4</a>
				<a href="#!" class="collection-item">Zone 1.5</a>
			</div>
            
			
		</section>
		
		<section class="corps col s12 m12 l10">
			<h1 id="titreZone"><span id="spanNomZone">Zone 1</span> <a class="btn-floating waves-effect waves-light grey" href="javascript:modifierNomZone()"><i class="tiny mdi-image-edit"></i></a></h1>
			
			<fieldset>
				<legend>Responsables</legend>
				<table class="hoverable responsive-table">
					<thead>
						<tr>
							<th>Nom</th>
							<th>Prénom</th>
							<th>Adresse email</th>
							<th>Téléphone</th>
							<th>&nbsp;</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Dupont</td>
							<td>Pierre</td>
							<td>pdupont@test.fr</td>
							<td>0476010206</td>
							<td>
								<a class="btn-floating waves-effect waves-light blue"><i class="tiny mdi-content-forward" title="Voir détails"></i></a>
								<a class="btn-floating waves-effect waves-light red"><i class="tiny mdi-navigation-close" title="Supprimer"></i></a>
							</td>
						</tr>
						<tr>
							<td>Dumas</td>
							<td>Paul</td>
							<td>pdumas@test.fr</td>
							<td>0476010205</td>
							<td>
								<a class="btn-floating waves-effect waves-light blue"><i class="tiny mdi-content-forward" title="Voir détails"></i></a>
								<a class="btn-floating waves-effect waves-light red"><i class="tiny mdi-navigation-close" title="Supprimer"></i></a>
							</td>
						</tr>
					<tbody>
				</table>
				<h5>Ajouter un responsable</h5>
				<form class="col s12">
					<div class="row">
						<div class="input-field col s12 m8 l6">
							<i class="mdi-action-account-circle prefix"></i>
							<input type="text" id="nouveau-responsable" name="nouveau-responsable" placeHolder="Tapez le nom d'un utilisateur pour le rechercher" />

						</div>
						<div class="input-field col s12 m4 l6">
							<a class="waves-effect waves-light btn green">Ajouter</a>
						</div>
					</div>
				</form>
			</fieldset>
			<fieldset>
				<legend>Utilisateurs autorisés</legend>
				<table class="hoverable responsive-table">
					<thead>
						<tr>
							<th>Nom</th>
							<th>Prénom</th>
							<th>Adresse email</th>
							<th>Téléphone</th>
						</tr>
					</thead>
					<tbody>
						<tr class="red">
							<td>Bidon</td>
							<td>Jacques</td>
							<td>jbidon@test.fr</td>
							<td>0476010203</td>
						</tr>
						<tr>
							<td>Donbi</td>
							<td>Jean-Paul</td>
							<td>jpdonbi@test.fr</td>
							<td>0476010204</td>
						</tr>
					<tbody>
				</table>
			</fieldset>
		</section>
	</div>

	

	<!-- jQuery is required by Materialize to function -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="materialize/js/materialize.min.js"></script>
	<script type="text/javascript">
	//custom JS code
		numNouvelleZone = 0;

		function modifierNomZone() {
			var nomZone = $("#spanNomZone").html();
						
			$("#titreZone").empty();
			$("#titreZone").append('<input type="text" class="validate col s12 m6 l6" id="inputNomZone" name="nomZone" value="' + nomZone + '" />');
			$("#titreZone").append('<a class="waves-effect waves-light btn green" href="javascript:submitNomZone()">Valider</a>');
			
			$("#inputNomZone").keyup(function(e){
				if(e.keyCode == 13)
				{
					submitNomZone();
				}
			});
			          
		}

		function creerZone(idZone) {
			var idNouvelleZone = numNouvelleZone++;

			$("#liste-zones").append('<input type="text" class="collection-item" name="nouvelle-zone" id="' + idNouvelleZone +'" placeHolder="Nom de la nouvelle zone" />');
			$("#" + idNouvelleZone).keyup(function(e){
				if(e.keyCode == 13)
				{
					submitNouvelleZone(this);
				}
			});
		}

		function submitNouvelleZone(input) {
			alert(input);
			
			//ajax
		}

		function submitNomZone() {
			var nomZone = $("#inputNomZone").val();
			
			//AJAX
			var erreur = false;
			
 			if(erreur) {
				$("#inputNomZone").addClass("invalid");
				Materialize.toast('<span>Erreur lors de la modification</span>&nbsp;<i class="mdi-navigation-close prefix active"></i>', 5000, 'red');
				
			} else {
				$("#titreZone").empty();
				$("#titreZone").append('<span id="spanNomZone">' + nomZone + '</span> ');
				$("#titreZone").append('<a class="btn-floating waves-effect waves-light grey" href="javascript:modifierNomZone()"><i class="tiny mdi-image-edit"></i></a>');
				Materialize.toast('<span>Nom de la zone modifié</span>&nbsp;<i class="mdi-action-done prefix active"></i>', 5000, 'green');
			}
		}
	</script>

</body>
</html>

